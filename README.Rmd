etseed
========

```{r echo=FALSE}
knitr::opts_chunk$set(
  warning = FALSE,
  message = FALSE,
  collapse = TRUE,
  comment = "#>"
)
```

__etcd R client__

## Installation

Install `etseed`

```{r eval=FALSE}
install.packages("devtools")
devtools::install_github("sckott/etseed")
```

```{r}
library("etseed")
```

## Start etcd

at the command line on OSX

```sh
brew install etcd
etcd
```

done.

## Get version

```{r}
version()
```

## Create a directory

```{r echo=FALSE}
out <- tryCatch(key("neighbor"), error=function(e) e)
if(!is(out, "http_error")) delete("neighbor", dir=TRUE)
```

```{r}
create("neighbor", dir=TRUE)
```

## Create a key

```{r echo=FALSE}
out <- tryCatch(key("mykey"), error=function(e) e)
if(!is(out, "http_error")) delete("mykey")
out <- tryCatch(key("stuff"), error=function(e) e)
if(!is(out, "http_error")) delete("stuff")
```

```{r}
create(key="mykey", value="this is awesome")
```

Use `ttl` parameter to make it dissappear after `x` seconds

```{r}
create(key="stuff", value="tables", ttl=5)
```

And the key will be gone after 5 seconds, see:

```{r eval=FALSE}
key("stuff")
#> Error in etcd_GET(sprintf("%s%s/%s/", etcdbase(), "keys", key), ...) : 
#>   client error: (404) Not Found 
```

## Update a key

```{r echo=FALSE}
out <- tryCatch(key("foo"), error=function(e) e)
if(!is(out, "http_error")) delete("foo")
```

Create a key

```{r}
create(key="foo", value="bar")
```

The update the key

```{r}
update(key="foo", value="bar stool")
```

## Create in-order keys

```{r echo=FALSE}
out <- tryCatch(key("queue"), error=function(e) e)
if(!is(out, "http_error")) delete("queue")
```

```{r}
create_inorder("queue", "thing1")
create_inorder("queue", "thing2")
create_inorder("queue", "thing3")
```

## List keys

```{r}
keys()
```

## List a key

```{r}
key("mykey")
```

## Meta

* Please report any issues or bugs](https://github.com/ropensci/etseed/issues).
* License: MIT
* Citation: execute `citation(package = 'etseed')`

[![ropensci_footer](http://ropensci.org/public_images/github_footer.png)](http://ropensci.org)
